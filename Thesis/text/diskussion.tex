\chapter{Conclusion}
\label{cha:diskussion}

This thesis demonstrated how to incorporate advanced behavior planning in ROS2 mobile robots. The goal was to achieve higher levels of autonomy and robustness by reducing the number of scenarios in which a human operator is needed. Implementing the system supervisor component improved the system's robustness and provided a safe basis for executing more intelligent behaviors. The implemented behaviors to react to sensor failures and robot collisions were valuable improvements to the system and improved current ROS2 mobile robots significantly. The layout of the behavior tree was structured to allow more complex behaviors to be safely executed because possible scenarios that interfere with a correct environment representation were checked and dealt with before complex behaviors get executed based on that representation. 
The implemented layout choice for the tree was not mentioned in previous literature. However, it has proven to be a sensible approach to model robot behavior safely and robustly. 
%The implemented behaviors and the system supervision component have improved the behavior in the simulated scenarios. The system can react and recover from multiple scenarios with additional components. 

Furthermore, the system architecture is a good base for further development without facing problems or limitations in the later stages of developing behaviors. The architecture showed a novel way that works with the ROS2 executor properties and allowed fast execution of both the behavior planner and the system components. 

Nevertheless, the behavior tree design could have been modified to use blackboard values more effectively to increase the information flow between action nodes in the tree. Also, the tree did not utilize the reactive control flow nodes, and no action node in the tree was designed to allow multiple threads at the current state. Incorporating so-called stateful nodes into the tree's structure to allow co-routines would have increased the possibility of creating better and more deliberative behaviors. 

\chapter{Outlook}
\label{cha:outlook}

The implemented behaviors were a first step to increasing autonomy, but the behavior planner needs more behaviors and fallbacks. Some behaviors that are not implemented in this thesis incorporate the Intel RSS rules for autonomous driving, like keeping appropriate distances, right-of-way rules, and adaptable speed based on occlusions.
Another area of future work is the creation of dedicated behaviors for multi-robot systems. For example the sharing sensor data with other robots to overcome complete sensor failures or intelligent path planning to avoid collisions when robots can access the planned paths of other robots. 
Also, more work is needed to define a robot's safe state or position after triggering an emergency stop. Reaching these minimum risk states after emergencies is then the duty of the behavior planner.

The results must be reproduced on an actual mobile robot. The layout of the behavior tree will stay the same, but further effort is needed to adapt the action nodes of the tree for a real system. 

The behaviors must be more deliberative and robust to achieve more independence from human operators. One key question in autonomous driving is the responsibility of a vehicle in a crash because, with higher levels of automation, the human is not needed anymore. However, a machine can not be responsible for its action because it was programmed to do so. Nevertheless, intelligent, robust, and independent decision-making almost always involves machine learning which makes decisions based on training with dedicated datasets and not explicitly written lines of code. Because a system in which the outcome for a high-risk scenario is unclear, machine learning behaviors may not be suited to be used independently. Therefore, an important work area is incorporating machine learning algorithms into a deterministic system, like a behavior tree. A behavior tree could execute and monitor the behaviors to safeguard the indeterministic behaviors and override them if necessary.
%Further research is needed on how behavior trees can manage a system with autonomous machine learning behaviors inside the tree.

 
